{"ast":null,"code":"import _slicedToArray from\"/home/kn/dev/theorie-des-jeux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import React,{useState,useRef,useEffect}from\"react\";import Matrix from\"./library/react-matrix\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"------\"),_useState2=_slicedToArray(_useState,2),result1=_useState2[0],setResult1=_useState2[1];var pA1=useRef(null);var pB1=useRef(null);var h2=useRef(null);var w2=useRef(null);var _useState3=useState([[]]),_useState4=_slicedToArray(_useState3,2),partA2=_useState4[0],setPartA2=_useState4[1];var _useState5=useState([[]]),_useState6=_slicedToArray(_useState5,2),partB2=_useState6[0],setPartB2=_useState6[1];var _useState7=useState(\"------\"),_useState8=_slicedToArray(_useState7,2),result2=_useState8[0],setResult2=_useState8[1];var pA2=useRef(null);var pB2=useRef(null);var Check1=function Check1(){if(pA1.current===null||pB1.current===null){return;}var a=pA1.current;var b=pB1.current;var data=a.getCellValue(0,0)+\",\"+a.getCellValue(1,0)+\";\"+a.getCellValue(0,1)+\",\"+a.getCellValue(1,1);data+=\"#\";data+=b.getCellValue(0,0)+\",\"+b.getCellValue(1,0)+\";\"+b.getCellValue(0,1)+\",\"+b.getCellValue(1,1);fetch(\"http://localhost:8082/api/part1\",{method:'POST',body:data}).then(function(resp){return resp.text();}).then(function(data){setResult1(data);});};var CreateTable=function CreateTable(){var w=w2.current.value;var h=h2.current.value;if(w===\"\"||h===\"\"){return;}if(w<1||h<1){return;}var columns=[];for(var i=0;i<w;i++){columns.push([]);for(var j=0;j<h;j++){columns[i].push(1);}}var newArray=columns.map(function(arr){return arr.slice();});setPartA2(columns);setPartB2(newArray);};var Check2=function Check2(){if(pA2.current===null||pB2.current===null){return;}var a=pA2.current;var b=pB2.current;var h=a.getHeight();var w=a.getWidth();var i,j;var left=\"\";var right=\"\";for(j=0;j<h;j++){for(i=0;i<w-1;i++){left+=a.getCellValue(i,j);left+=\",\";right+=b.getCellValue(i,j);right+=\",\";}left+=a.getCellValue(w-1,j);left+=\";\";right+=b.getCellValue(w-1,j);right+=\";\";}var data=left.substring(0,left.length-1)+\"#\"+right.substring(0,left.length-1);fetch(\"http://localhost:8082/api/part2\",{method:'POST',body:data}).then(function(resp){return resp.text();}).then(function(data){setResult2(data);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Part 1\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"RewardA\"}),/*#__PURE__*/_jsx(Matrix,{ref:pA1,columns:[[2,0],[1,1]],resize:'none'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"RewardB\"}),/*#__PURE__*/_jsx(Matrix,{ref:pB1,columns:[[1,0],[0,2]],resize:'none'})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:Check1,children:\"Check\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:\"Result:\"}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:result1}})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Part 2\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Number of A's actions:\",/*#__PURE__*/_jsx(\"input\",{ref:h2,style:{margin:'10px'},type:\"text\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Number of B's actions:\",/*#__PURE__*/_jsx(\"input\",{ref:w2,style:{margin:'10px'},type:\"text\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:CreateTable,style:{margin:'10px'},children:\"Create\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"RewardA\"}),/*#__PURE__*/_jsx(Matrix,{ref:pA2,columns:partA2,resize:'none'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"RewardB\"}),/*#__PURE__*/_jsx(Matrix,{ref:pB2,columns:partB2,resize:'none'})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:Check2,children:\"Check\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:\"Result:\"}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:result2}})]})]});}export default App;","map":{"version":3,"sources":["/home/kn/dev/theorie-des-jeux/src/App.js"],"names":["React","useState","useRef","useEffect","Matrix","App","result1","setResult1","pA1","pB1","h2","w2","partA2","setPartA2","partB2","setPartB2","result2","setResult2","pA2","pB2","Check1","current","a","b","data","getCellValue","fetch","method","body","then","resp","text","CreateTable","w","value","h","columns","i","push","j","newArray","map","arr","slice","Check2","getHeight","getWidth","left","right","substring","length","__html","margin"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, {useState, useRef, useEffect} from \"react\";\n\nimport Matrix from \"./library/react-matrix\"\n\nfunction App() {\n    const [result1, setResult1] = useState(\"------\");\n    const pA1 = useRef(null);\n    const pB1 = useRef(null);\n\n    const h2 = useRef(null);\n    const w2 = useRef(null);\n    const [partA2, setPartA2] = useState([[]]);\n    const [partB2, setPartB2] = useState([[]]);\n    const [result2, setResult2] = useState(\"------\");\n    const pA2 = useRef(null);\n    const pB2 = useRef(null);\n\n    const Check1 = function() {\n        if (pA1.current === null || pB1.current === null) {\n            return;\n        }\n        let a = pA1.current;\n        let b = pB1.current;\n\n        let data = a.getCellValue(0, 0) + \",\" + a.getCellValue(1, 0) + \";\" + a.getCellValue(0, 1) + \",\" + a.getCellValue(1, 1)\n        data += \"#\"\n        data += b.getCellValue(0, 0) + \",\" + b.getCellValue(1, 0) + \";\" + b.getCellValue(0, 1) + \",\" + b.getCellValue(1, 1)\n\n        fetch(\"http://localhost:8082/api/part1\", {\n            method: 'POST',\n            body: data\n        }).then(resp => resp.text()).then(data => {\n            setResult1(data)\n        });\n    }\n\n    const CreateTable = function() {\n        let w = w2.current.value;\n        let h = h2.current.value;\n        if (w === \"\" || h === \"\") {\n            return;\n        }\n        if (w < 1 || h < 1) {\n            return;\n        }\n        let columns = [];\n        for (let i = 0; i < w; i++) {\n            columns.push([]);\n            for (let j = 0; j < h; j++) {\n                columns[i].push(1);\n            }\n        }\n\n        var newArray = columns.map(function(arr) {\n            return arr.slice();\n        });\n\n        setPartA2(columns);\n        setPartB2(newArray);\n    }\n\n    const Check2 = function() {\n        if (pA2.current === null || pB2.current === null) {\n            return;\n        }\n        let a = pA2.current;\n        let b = pB2.current;\n\n        let h = a.getHeight()\n        let w = a.getWidth()\n\n        let i, j;\n        let left = \"\";\n        let right = \"\";\n        for (j = 0; j < h; j++) {\n            for (i = 0; i < w-1; i++) {\n                left += a.getCellValue(i, j);\n                left += \",\";\n                right += b.getCellValue(i, j);\n                right += \",\";\n            }\n            left += a.getCellValue(w-1, j);\n            left += \";\";\n            right += b.getCellValue(w-1, j);\n            right += \";\";\n        }\n        let data = left.substring(0, left.length-1) + \"#\" + right.substring(0, left.length-1);\n\n\n        fetch(\"http://localhost:8082/api/part2\", {\n            method: 'POST',\n            body: data\n        }).then(resp => resp.text()).then(data => {\n            setResult2(data)\n        });\n    }\n\n    return (\n    <div className=\"App\">\n        <h1>Part 1</h1>\n        <div>\n            <div className=\"row\">\n                <div className=\"column\">\n                    <h1>RewardA</h1>\n                    <Matrix ref={pA1} columns={[[2,0], [1,1]]} resize={'none'}></Matrix>\n                </div>\n                <div className=\"column\">\n                    <h1>RewardB</h1>\n                    <Matrix ref={pB1} columns={[[1,0], [0,2]]} resize={'none'}></Matrix>\n                </div>\n            </div>\n            <button onClick={Check1}>Check</button>\n            <br/>\n            <br/>\n            <div>Result:</div>\n            <div dangerouslySetInnerHTML={{__html: result1}}></div>\n        </div>\n        <h1>Part 2</h1>\n        <div>\n            <label>\n                Number of A's actions:\n                <input ref={h2} style={{margin: '10px'}} type=\"text\"/>\n            </label>\n            <br/>\n            <label>\n                Number of B's actions:\n                <input ref={w2} style={{margin: '10px'}} type=\"text\"/>\n            </label>\n            <br/>\n            <button onClick={CreateTable} style={{margin: '10px'}}>Create</button>\n        </div>\n        <div>\n            <div className=\"row\">\n                <div className=\"column\">\n                    <h1>RewardA</h1>\n                    <Matrix ref={pA2} columns={partA2} resize={'none'}></Matrix>\n                </div>\n                <div className=\"column\">\n                    <h1>RewardB</h1>\n                    <Matrix ref={pB2} columns={partB2} resize={'none'}></Matrix>\n                </div>\n            </div>\n\n            <button onClick={Check2}>Check</button>\n            <br/>\n            <br/>\n            <div>Result:</div>\n            <div dangerouslySetInnerHTML={{__html: result2}}></div>\n        </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}